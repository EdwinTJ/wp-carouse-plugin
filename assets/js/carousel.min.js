!function(){"use strict";class t{constructor(){this.events={}}on(t,s){this.events[t]||(this.events[t]=[]),this.events[t].push(s)}emit(t,s){this.events[t]&&this.events[t].forEach(t=>t(s))}}class s{constructor(t){this.carousel=t}use(t){new t(this.carousel)}}class e{constructor(e,i={}){this.root=e,this.track=e.querySelector(".pf-track"),this.slides=Array.from(e.querySelectorAll(".pf-slide")),this.config={slidesToShow:1,loop:!1,speed:400,breakpoints:{},modules:[],...i},this.index=0,this.events=new t,this.modules=new s(this),this.prevButton=e.querySelector(".pf-prev"),this.nextButton=e.querySelector(".pf-next"),this.setup(),this.attachModules()}setup(){this.updateSlidesToShow(),this.updateDimensions(),this.attachControls(),window.addEventListener("resize",()=>{this.updateSlidesToShow(),this.updateDimensions()})}updateSlidesToShow(){const t=window.innerWidth,s=this.config.breakpoints;let e=this.config.slidesToShow;Object.keys(s).forEach(i=>{t<=i&&(e=s[i].slidesToShow)}),this.currentSlidesToShow=e}updateDimensions(){const t=this.root.clientWidth/this.currentSlidesToShow;this.slides.forEach(s=>{s.style.width=`${t}px`}),this.moveTo(this.index,!1)}moveTo(t,s=!0){this.config.loop||(t=Math.max(0,Math.min(t,this.slides.length-this.currentSlidesToShow))),this.index=t;const e=-t*this.slides[0].clientWidth;this.track.style.transition=s?`transform ${this.config.speed}ms ease`:"none",this.track.style.transform=`translate3d(${e}px, 0, 0)`,this.events.emit("slideChange",{index:t})}next(){this.moveTo(this.index+1)}prev(){this.moveTo(this.index-1)}attachModules(){this.config.modules.forEach(t=>{this.modules.use(t)})}attachControls(){this.nextButton&&this.nextButton.addEventListener("click",()=>{this.next()}),this.prevButton&&this.prevButton.addEventListener("click",()=>{this.prev()})}}class i{constructor(t){this.carousel=t,this.interval=null,this.delay=t.config.autoplayDelay||3e3,this.start(),this.attachHoverPause()}start(){this.stop(),this.interval=setInterval(()=>{this.carousel.next()},this.delay)}stop(){this.interval&&(clearInterval(this.interval),this.interval=null)}attachHoverPause(){this.carousel.root.addEventListener("mouseenter",()=>{this.stop()}),this.carousel.root.addEventListener("mouseleave",()=>{this.start()})}}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".pf-carousel").forEach(t=>{let s={};const o=t.getAttribute("data-config");if(o)try{s=JSON.parse(o)}catch{console.warn("Invalid JSON in data-config")}s.modules=s.modules||[],s.autoplay&&s.modules.push(i),new e(t,s)})})}();